@charset "utf-8";
@use "sass:color";
@use '_variable' as *;



/***********
Layout
***********/
html, body, textarea, button, a, input {font-weight: 400; font-size: 16px; line-height: 1.5; font-family: "Pretendard", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif; color: $gray-700; letter-spacing: -0.04em; margin: 0;}
html, body {width: 100%; height: 100%; min-height: 600px;}
a {text-decoration: none; color: $gray-900;}
a:active,
a:focus,
a:focus-visible {
  outline: auto;
  outline: 5px auto -webkit-focus-ring-color;
}
/* 마우스, 터치로 버튼에 포커스 시 */
// button:focus:not(:focus-visible) {
//   outline: none;
//   box-shadow: 1px 1px 5px rgba(1, 1, 0, .7);
// }
img {
  display: block;
  width: 100%;
  max-width: 100%;
  object-fit: cover;
}
button {
  padding: 0;
  border: none;
  cursor: pointer;
  background: transparent;
}

html {background-color: $layout-bg;}
body {
  overflow: scroll;
  overflow-x: auto;
  
  &::-webkit-scrollbar {width: 4px;}
  &::-webkit-scrollbar-thumb {
    background-color: $gray-100;
    border-radius: 4px;
  }
  &::-webkit-scrollbar-button {
    height: 7px;
  }
  &.is-main {
    &::-webkit-scrollbar {width: 0;}
    .header {
      background-color: transparent;
    }
  }
  &.has-glassbg {
    overflow: hidden;
    position: relative;
    background: linear-gradient(90deg, rgba(207,206,254,0.2) 20%, rgba(255,116,211,0.2) 50%, rgba(0,82,245,0.2) 80%);
    background-size: 400% 400%;
    animation: wave 10s cubic-bezier(0.5, 0, 0.5, 1) infinite;
    animation-delay: 1ms;
  }
  &.is-fixed {
    position: fixed;
    // overflow: hidden;
    // padding-right: 20px;
    // width: calc(100% - 18px);
  }
}

#bg {
  position: fixed;
  inset: 0;
  overflow: hidden;
  svg {
    position: absolute;
    left: 50%;
    margin-left: -50%;
    min-width: 1920px;
    height: auto !important;
  }
}

.wrap {
  height: 100%;
  position: relative;
  z-index: 1;
}

.container {
  // position: relative; // 개발에서 모달을 안에 넣는 경우가 있어서 스타일 삭제하고 테스트 필요
  min-height: 100%;
  display: flex;
  flex-direction: column;
  // &:has(.page-login), &:has(.page-login-find) {
  //   justify-content: center;
  // }
  &:has(.insight-view) {
    padding-top: $layout-padding;
  }
}

.content {
  width: 100%;
  max-width: 1000px;
  padding: 100px 0;
  margin: 0 auto;
  .head-guidetext {
    margin-top: 8px;
    margin-bottom: 60px;
    @include text-body(0,'r',$gray-500);
  }
  & >.button-box-large {
    margin-top: 60px;
  }
}
// .bottom-box {
//   max-width: 1000px;
//   margin: 0 auto;
//   flex: 0;
//   width: 100%;
//   padding-bottom: 80px;
//   text-align: center;
//   .textbutton-box {
//     justify-content: center;
//   }
//   .button-box-large {
//     button {
//       flex-basis: 160px;
//     }
//   }
// }
// .content +.bottom-box {
//   margin-top: -48px;
// }
/***********
header
***********/
.header {
  position: fixed;
  top: $layout-padding;
  right: $layout-padding;
  z-index: 10;
  nav {
    display: flex;
    flex-direction: row;
    // padding: 4px;
    // background-color: $white;
    border-radius: 16px;
    a {
      border-radius: 12px;
      &:hover {
        background-color: $layout-bg;
      }
    }
  }
}
/***********
aside
***********/
@mixin aside {
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  width: $layout-asideWidth;
  padding: 8px 0;
  border-radius: 20px;
  // border: 2px solid #FFF;
  // border-image: linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0.2) 100%);
  // background: rgba(255, 255, 255, 0.8);
  // box-shadow: 0px 16px 32px 0px #23225814, 0px 4px 12px 0px #23225805 inset;
  // backdrop-filter: blur(10px);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0.8) 100%);
  box-shadow: 0px 16px 32px 0px #23225814,  0px 4px 12px 0px #23225805 inset;
  backdrop-filter: blur(10px);
  position: fixed;
  z-index: 2;
  @content;
  &::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 20px;
    background: linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0.2) 100%);
    mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    mask-composite: exclude;
    padding: 2px;
    z-index: 0;
    @content;
  }
}


.aside {
  .statebar {
    display: flex;
    position: relative;
    z-index: 1;
    .statebar-menu,
    .statebar-login {
      display: flex;
    }
    .statebar-login {
      .txt-login {
        display: inline-flex;
        align-items: center;
        font-weight: 600;
        font-size: 16px;
        &::before {
          content: '';
          display: inline-block;
          @include set-icon(24px, 24px, $icon-mypage, 48px);
        }
      }
    }
    .icon-cart {
      overflow: visible;
      position: relative;
      .my-item {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        position: absolute;
        left: 26px;
        top: 7px;
        height: 16px;
        padding: 0 4px;
        min-width: 8px;
        font-weight: 600;
        font-size: 11px;
        color: #fff;
        text-indent: 0;
        background: $primary;
        border-radius: 16px;
      }
    }
    .icon-logout {
      display: none;
    }
  }
  .mypage-menu {
    display: none;
  }
  .navigation {
    flex: auto;
    position: relative;
    z-index: 1;
    .util-menu {
      display: flex;
      align-items: center;
      position: relative;
      z-index: 1;
      .icon-menufold {
        margin-left: auto;
      }
      .icon-menufold,
      .icon-aisearch {
        border-radius: 16px;
        transition: background-color 150ms ease;
        &:hover {
          background-color: $bg-hover;
        }
      }
    }
    .main-menu {
      margin-top: 12px;
      padding: 0 6px;
      li {
        & +li {
          margin-top: 8px;
        }
        &> a {
          display: flex;
          border-radius: 16px;
          overflow: hidden;
          padding: 12px;
          // background-color: transparent;
          // border: 2px solid transparent;
          line-height: 24px;
          transition: background-color 150ms ease, box-shadow 150ms ease;
          i[class^="icon-n-"] {
          }
          .txt {
            margin-left: 12px;
            @include text-body(1,'sb');
            .flag-beta {
              margin-left: 8px;
              width: 37px;
              height: 22px;
              border-radius: 4px;
              font-size: 12px;
              color: $gray-500;
              background-color: $gray-60;
              display: inline-flex;
              align-items: center;
              justify-content: center;
            }
          }
          &:hover {
            // background-color: $bg-hover;
          }
        }
        // &.is-current a {
        //   border-image: linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0.2) 100%);
        //   background: rgba(255, 255, 255, 0.6);
        //   box-shadow: 0px 16px 32px 0px #23225814, 0px 4px 12px 0px #23225805 inset;
        //   backdrop-filter: blur(10px);
        // }
      }
    }
    .guidance-menu {
      margin-top: 12px;
      padding: 0 6px;
      padding-top: 13px;
      position: relative;
      &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 12px;
        right: 12px;
        border-top: 1px solid $gray-60;
      }
      li > a {
        border-radius: 12px;
        border: 2px solid transparent;
        background-color: transparent;
        transition: background-color 500ms ease, box-shadow 500ms ease;
        .txt {
          @include text-body(2,'m'); 
        }
        .icon-extlink {
          margin-left: 4px;
          vertical-align: top;
        }
      }
    }
    .footer {
      flex: 0;
      margin: auto 10px 0;
      padding: 12px 4px;
      font-size: 12px;
      border-top: 1px solid #E7E9EF;
      .footer-menu {
        display: inline-flex;
        li {
          display: inline-flex;
          align-items: center;
          a {
            @include text-caption1($gray-300);
            strong {
              font-weight: 600;
              color: $gray-500;
            }
          }
          & +li::before {
            content: '';
            display: inline-flex;
            height: 10px;
            margin: 0 4px;
            border-left: 1px solid $gray-60;
          }
        }
      }
      .company-info {
        margin-top: 8px;
        li {
          @include text-caption2($gray-300);
          span + span {
            margin-left: 6px;
          }
        }
      }
      .copyright {
        margin-top: 8px;
        @include text-caption2($gray-300);
      }
    }
    
    .icon-n-search {@include set-icon(24px, 24px, svg-icon(n-search), 20px);}
    .icon-n-insight {@include set-icon(24px, 24px, svg-icon(n-insight), 20px);}
    .icon-n-polio {@include set-icon(24px, 24px, svg-icon(n-polio), 20px);}
    .icon-n-market {@include set-icon(24px, 24px, svg-icon(n-market), 20px);}
    .icon-n-guidenace {@include set-icon(24px, 24px, svg-icon(n-guidenace), 20px);}


    .icon-n-info {@include set-icon(24px, 24px, svg-icon(n-info), 20px);}
    .icon-n-bcdata {@include set-icon(24px, 24px, svg-icon(n-bcdata), 20px);}
    .icon-n-notice {@include set-icon(24px, 24px, svg-icon(n-notice), 20px);}
    .icon-n-faq {@include set-icon(24px, 24px, svg-icon(n-faq), 20px);}

    .icon-n-contest {@include set-icon(24px, 24px, svg-icon(n-contest), 20px);}
    .icon-n-analysis {@include set-icon(24px, 24px, svg-icon(n-analysis), 20px);}
    .icon-n-request {@include set-icon(24px, 24px, svg-icon(n-request), 20px);}

    .is-current {
      .icon-n-search {@include set-icon(24px, 24px, svg-icon(n-search, $primary), 20px);}
      .icon-n-insight {@include set-icon(24px, 24px, svg-icon(n-insight, $primary), 20px);}
      .icon-n-polio {@include set-icon(24px, 24px, svg-icon(n-polio, $primary), 20px);}
      .icon-n-market {@include set-icon(24px, 24px, svg-icon(n-market, $primary), 20px);}
      .icon-n-guidenace {@include set-icon(24px, 24px, svg-icon(n-guidenace, $primary), 20px);}


      .icon-n-info {@include set-icon(24px, 24px, svg-icon(n-info, $primary), 20px);}
      .icon-n-bcdata {@include set-icon(24px, 24px, svg-icon(n-bcdata, $primary), 20px);}
      .icon-n-notice {@include set-icon(24px, 24px, svg-icon(n-notice, $primary), 20px);}
      .icon-n-faq {@include set-icon(24px, 24px, svg-icon(n-faq, $primary), 20px);}

      .icon-n-contest {@include set-icon(24px, 24px, svg-icon(n-contest, $primary), 20px);}
      .icon-n-analysis {@include set-icon(24px, 24px, svg-icon(n-analysis, $primary), 20px);}
      .icon-n-request {@include set-icon(24px, 24px, svg-icon(n-request, $primary), 20px);}
    }
  }
}


.pop-history {
  position: fixed;
  top: 88px;
  right: 20px;
  width: 320px;
  z-index: 10;
  .modal {
    box-shadow: 0px 16px 32px 0px #23225814, 0px 4px 12px 0px #23225805 inset;
    backdrop-filter: blur(10px);
  }
  .tab-box {
    margin-bottom: 20px;
  }
  .history-box {
    margin-top: -20px;
  }
  .item-scroll-wrap {
    height: 336px;
    &:has(li:nth-child(6)) {
      margin-right: -20px;
    }
    &::-webkit-scrollbar-button {
      height: 12px;
    }
  }
  .history-list {
    // padding: 12px 0;
    li +li {
      // margin-top: 12px;
      border-top: 1px solid $gray-60;
    }
    li {
      padding: 12px 0;
      // margin-bottom: 12px;
      a {
        display: block;
        .title {
          width: 100%;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
          @include text-body(2,'m',$gray-700);
        }
        .info {
          margin-top: 2px;
          display: flex;
          span {
            @include text-body(3,'m',$gray-300);
          }
        }
      }
    }
  }
  &.modal-hidden {
    display: none;
  }
}
.modal-test {
  position: fixed;
  bottom: $layout-padding;
  left: calc($layout-asideWidth + $layout-padding);
  right:  $layout-padding;
  padding: 20px;
  justify-items: center;
  z-index: 9;
  background-color: rgba(0,0,0,0.2);
 .button-box-xsmall {
  flex-wrap: wrap;
  a {flex: 0;}
 }
}
@media screen and (min-width: 1024px) {
  .header {
    display: none;
  }
  .aside {
    .statebar {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 10;
      // border-radius: 20px;
      // background: linear-gradient(180deg, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0.8) 100%);
      // box-shadow: 0px 16px 32px 0px #23225814,  0px 4px 12px 0px #23225805 inset;
      // backdrop-filter: blur(10px);
      // &::after {
      //   content: '';
      //   position: absolute;
      //   inset: 0;
      //   border-radius: 20px;
      //   background: linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0.2) 100%);
      //   mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      //   mask-composite: exclude;
      //   padding: 2px;
      //   z-index: 0;
      // }
      .statebar-menu,
      .statebar-login {
        // display: flex;
        padding: 4px;
        border-radius: 20px;
        background: linear-gradient(180deg, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0.8) 100%);
        box-shadow: 0px 16px 32px 0px #23225814,  0px 4px 12px 0px #23225805 inset;
        backdrop-filter: blur(10px);
          &::after {
          content: '';
          position: absolute;
          inset: 0;
          border-radius: 20px;
          background: linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0.2) 100%);
          mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask-composite: exclude;
          padding: 2px;
          z-index: 0;
        }
      }
      .statebar-login {
        margin-left: 8px;
        .txt-login {
          padding: 12px;
        }
      }
      a {
        border-radius: 16px;
        position: relative;
        z-index: 1;
        transition: background-color 150ms ease;
        &:hover {
          background-color: $bg-hover;
        }
      }
      .icon-menuclose {
        display: none;
      }
    }
    .mypage-menu {
      position: fixed;
      z-index: 10; // AI검색 슬라이더에 가려서 올림
      // right: -2px;
      // top: calc(100% + 14px);
      box-sizing: border-box;
      width: 160px;
      top: 88px;
      right: 20px;
      padding: 4px;
      border-radius: 20px;
      background: rgba(255, 255, 255, 0.68);
      box-shadow: 0px 16px 32px 0px #23225814,  0px 4px 12px 0px #23225805 inset;
      backdrop-filter: blur(10px);
      &::before {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: 20px;
        background: linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0.2) 100%);
        mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
        mask-composite: exclude;
        padding: 2px;
        z-index: 0;
      }
      & >ul {
      position: relative;
      z-index: 1;
      & >li +li {
        margin-top: 4px;
      }
      }
      a {
        display: flex;
        min-width: 100px;
        border-radius: 16px;
        padding: 9.5px 12px;
        @include text-body(2,'m');
        &:hover {
          transition: background-color 150ms ease;
          background-color: $bg-hover;
        }
        &.ext::after {
          content: '';
          margin-left: auto;
          @include set-icon(20px, 20px, $icon-mymenuext, 20px);
        }
      }
      &.is-open {
        display: block;
      }
    }
    .navigation {
      @include aside;
      top: 0;
      bottom: 0;
      // min-height: 600px;
      margin: $layout-padding 0 $layout-padding $layout-padding;
      .util-menu {
        padding: 0 12px;
      }
      .main-menu {
        li {
          & +li {
            margin-top: 4px;
          }
          & > a {
            // margin: 0 auto;
            // padding: 0;
            // width: 48px;
            // height: 48px;
            // align-items: center;
            // justify-content: center;
            &:hover {
              background: $bg-hover;
            }
          }
          &.is-current a {
            border-radius: 16px;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.6) 0%, rgba(255, 255, 255, 0.6) 100%);
            box-shadow: 0px 16px 32px 0px #23225814,  0px 4px 12px 0px #23225805 inset;
            backdrop-filter: blur(10px);
            &::before {
              content: '';
              position: absolute;
              inset: 0;
              border-radius: 16px;
              background: linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0.2) 100%);
              mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
              mask-composite: exclude;
              padding: 2px;
              z-index: 0;
            }
            .txt {
              color: $primary;
            }
          }
        }
      }
      .guidance-menu {
        li {
          & > a {
            display: flex;
            align-items: center;
            padding: 7.5px 14px;
            // margin-bottom: 12px;
            i[class^="icon-n-"] {
              display: none;
            }
            &:hover {
              background-color: $bg-hover;
            }
          }
        }
      }
      .main-nav {
        position: relative;
        z-index: 1;
        overflow: auto;
        white-space: nowrap;
        flex: auto;
        display: flex;
        flex-direction: column;
        &::-webkit-scrollbar {width: 4px;}
        &::-webkit-scrollbar-thumb {
          background-color: transparent;
          border-radius: 4px;
        }
        &::-webkit-scrollbar-button {
          height: 7px;
        }
        &:hover::-webkit-scrollbar-thumb {
          background-color: $gray-100;
        }
      }
    }
    &.is-fold {
      .statebar {
      }
      .navigation {
        width: 64px;
        padding: 8px 2px;
        .util-menu {
          flex-direction: column;
          .icon-home {
            display: none;
          }
          .icon-menufold {
            margin: 0;
          }
        }
        .main-menu {
          padding: 0 6px;
          .txt {
            margin: 0;
            @include set-icon-text-blind;
          }
        }
        .guidance-menu {
          li {
            & +li {
              margin-top: 8px;
            }
            & > a {
              display: flex;
              align-items: center;
              border: 2px solid transparent;
              padding: 10px;
              i[class^=icon-n-] {
                display: flex !important;
              }
              .txt {
                @include set-icon-text-blind;
              }
            }
          }
        }
        .footer {
          display: none;
        }
      }
      & ~.container {
        padding-left: 64px + 20px;
      }
    }
  }
}
@media screen and (max-width: 1023px){
  .wrap {
    flex-direction: column;
  }
  .header {
    padding: 8px 16px;
    .icon-home {
      width: 44px;
      height: 44px;
      // background-size: contain;
    }
    .icon-menu {
      margin-left: auto;
      background-color: #FFFFFF99;
      box-shadow: 0px 16px 32px 0px #23225814;
      backdrop-filter: blur(10px);
      border-radius: 16px;
      border: 1px solid $white;
    }
  }
  .header {
    top: 0;
    left: 0;
    right: 0;
    background-color: $layout-bg;
    nav {
      // background-color: transparent;
    }
  }
  .has-glassbg .header {
    background-color: transparent;
  }

  .aside {
    @include aside;
    width: calc(100% - 40px);
    max-width: 360px;
    top: 64px; // header 60
    right: 20px;
    // bottom: 20px;
    z-index: 15;
    max-height: calc(100% - 86px);
    overflow: auto;
    display: none;
    .statebar {
      position: relative;
      padding: 4px 12px 13px;
      &::before {
        content: '';
        position: absolute;
        bottom: 0;
        left: 20px;
        right: 20px;
        border-bottom: 1px solid $gray-60;
      }
      .icon-logout {
        display: block;
      }
      .icon-menuclose {
        margin-left: auto;
      }
    }
    .navigation {
      overflow: auto;
      &::-webkit-scrollbar {width: 4px;}
      &::-webkit-scrollbar-thumb {
        background-color: $gray-100;
        border-radius: 4px;
      }
      &::-webkit-scrollbar-button {
        height: 7px;
      }
      // &:hover::-webkit-scrollbar-thumb {
      //   background-color: $gray-100;
      // }
      .util-menu {
        display: none;
      }
      .main-menu {
        li + li {
          margin-top: 4px;
        }
      }
      .guidance-menu {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 8px 12px;
        // margin: 12px 12px 0;
        padding: 12px 24px;
        li {
          & > a {
            i[class^="icon-n-"] {
              display: none;
            }
          }
        }
      }
    }
    &.is-open {
      display: flex;
    }
  }


  .container {
    margin-left: 0;
    padding: 0 24px;
    // padding-left: calc(constant(safe-area-inset-left) + $layout-padding);
    // padding-left: calc(env(safe-area-inset-left) + $layout-padding);
    // padding-right: calc(constant(safe-area-inset-right) + $layout-padding);
    // padding-right: calc(env(safe-area-inset-right) + $layout-padding);
  }
  .modal-test {
    left: $layout-padding;
  }
}
@media screen and (min-width: 768px){
  // Mobil only
  .is-mobile {display: none !important;}
}
@media screen and (max-width: 767px){
  // PC only
  .is-pc {display: none !important;}
  // --- PC only
  .container {
    display: flex;
    flex-direction: column;
    align-content: stretch;
  }
  .content {
    padding-top: $topHeader_h; // 헤더 높이
    // padding-top: 12px;
    padding-bottom: calc(constant(safe-area-inset-bottom) + 100px);
    padding-bottom: calc(env(safe-area-inset-bottom) + 100px);

    .head-guidetext {
      font-size: 16px;
    }
  }

  // .bottom-box {
  //   margin-bottom: 40px;
  //   max-width: 405px;
  //   &:has(.button-box-large) {
  //     .button-box-large {
  //       position: fixed;
  //       padding: 24px $layout-padding $layout-padding;
  //       bottom: 0;
  //       left: 0;
  //       right: 0;
  //       background: linear-gradient(180deg, rgba($layout-bg, 0) 0, $layout-bg 24px, $layout-bg 100%);
  //     }
  //   }
  // }

  .pop-history {
    top: 0;
    right: 0;
    width: 100%;
    left: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: flex-end;
    justify-content: center;
    .modal {
      flex: auto;
      border-radius: 16px 16px 0 0;
    }
  }
}

.ui-datepicker {display: none;}

/***********
page : 레이아웃 변경 테스트
***********/
$_containAsideWidth: 20px + 240px + 20px;
$_containAsideFoldWidth: 20px + 64px + 20px;
$_containAisideWidth: 20px + 300px + 20px;
.container {
  margin: 0 !important;
  padding: 0 20px 0 $_containAsideWidth;
  // overflow-x: hidden;
  // &:has(.page-main) {
  //   overflow: hidden;
  //   padding: 0 0 0 260px;
  // }
  &:has(.page-aisearch) {
    overflow: hidden;
    padding: 0 $_containAisideWidth 0 $_containAsideWidth;
  }
}
.is-main {
  .container {
    overflow: hidden;
    padding: 0 0 0 260px;
  }
}
@media screen and (min-width: 1024px) {
  .aside.is-fold ~ .container {
    padding: 0 20px 0 $_containAsideFoldWidth;
    &:has(.page-aisearch) {
      padding: 0 $_containAisideWidth 0 $_containAsideFoldWidth;
    }

    .analysis-nav {
      left: $_containAsideFoldWidth;
    }
  }
  .is-main {
    .container {
      overflow: hidden;
      padding: 0 0 0 260px;
    }
    .aside.is-fold ~ .container {
      padding: 0 0 0 $_containAsideFoldWidth;
    }
  }
}
$contentWidth: 700px;

/***********
page : .page-main /.page-aisearch
***********/
@mixin aisearchLayout {
  flex: 1;
  box-sizing: border-box;
  // padding: 20px 0 140px;
  max-width: none;
  max-height: 100vh;
  @content;
  &::-webkit-scrollbar {width: 0; height: 0;}
  &::-webkit-scrollbar-thumb {
    background-color: $gray-100;
    border-radius: 4px;
  }
  &::-webkit-scrollbar-button {
    height: 7px;
  }
}
.page-main {
  @include aisearchLayout;
  padding: 20px 0 280px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  margin: auto;
  .aisearch-header {
    .logo-video {
      width: 80px;
      height: 80px;
      margin: 0 auto 16px;
    }
    h1 {
      text-align: center;
      font-size: 40px;
      font-weight: 700;
      color: $gray-900;
      transition: font-size 300ms ease;
    }
    .flow-wrap {
      margin: 20px 0 -40px;
    }
    .flow-text {
      padding: 40px 0;

      position: relative;
      width: 100%;
      overflow: hidden;
      // background-color: #111;
      display: flex; 
      align-items: center;
      // flex-wrap: wrap;
      color: #fff;
      &.text1 {
        margin-bottom: -68px;
      }
      &.text1 .exquestion-list {
        animation: marqee1 48s linear infinite; 
      }
      &.text2 .exquestion-list {
        animation: marqee2 48s linear infinite;
      }
    }
    .exquestion-list {
      gap: 12px;
      display: flex;
      & +.exquestion-list {
        margin-top: 12px;
      }
      .exquestion-item {
        position: relative;
        z-index: 1;
        display: flex;
        align-items: center;
        box-sizing: border-box;
        width: 280px;
        height: 74px;
        flex-basis: 280px;
        padding: 16px 20px;

        border-radius: 16px;
        // background: linear-gradient(180deg, rgba(255, 255, 255, 0.6) 0%, rgba(255, 255, 255, 0.6) 100%);
        background: #FFFFFF99;
        box-shadow: 0px 16px 32px 0px transparent,  0px 4px 12px 0px transparent inset;
        backdrop-filter: blur(10px);
        cursor: pointer;
        transition: all 300ms ease;
        p {
          position: relative;
          z-index: 1;
          @include text-body(2,'r',$gray-100);
          max-height: 3em;
          overflow: hidden;
          text-overflow: ellipsis;
          display: -webkit-box;
          -webkit-box-orient: vertical;
          -webkit-line-clamp: 2;
          transition: all 300ms ease;
        }
        &::before {
          content: '';
          position: absolute;
          inset: 0;
          border-radius: 16px;
          // background: linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0.2) 100%);
          mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask-composite: exclude;
          padding: 2px;
          z-index: 0;
          transition: all 300ms ease;
        }
        &.active {
          background: linear-gradient(180deg, rgba(255, 255, 255, 0.6) 0%, rgba(255, 255, 255, 0.6) 100%);
          box-shadow: 0px 16px 32px 0px #23225814,  0px 4px 12px 0px #23225805 inset;
          backdrop-filter: blur(10px);
          &::before {
          content: '';
            position: absolute;
            inset: 0;
            border-radius: 16px;
            background: linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0.2) 100%);
            mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
            mask-composite: exclude;
          }
          p {
            color: $gray-900;
          }
          &:hover p {
            text-decoration: underline;
          }
        }
      }
    }
  }
}
@keyframes marqee1 {
  0% {transform: translateX(0);}
  100% {transform: translateX(-50%);}
}
@keyframes marqee2 {
  0% {transform: translateX(-50%);}
  100% {transform: translateX(0%);}
}
.page-aisearch {
  overflow: scroll;
  @include aisearchLayout;
  padding: 20px 0 140px;
  .aisearch-body {
    max-width: 660px;
    padding: 0 52px;
    margin: 0 auto;
    .search-request {
      max-width: 660px;
      // margin: 0 auto 32px;
      margin-bottom: 32px;
      
      
      .request-text {
        text-align: right;
        p {
          max-width: 80%;
          display: inline-block;
          padding: 12px 16px;
          border-radius: 16px;
          background-color: $gray-60;
          @include text-body(1);
          text-align: left;
          word-break: break-word;
        }
        & +.util {
          justify-content: flex-end;
        }
      }
      .contents {
        margin-top: 20px;
        .graph {
          border: 2px solid #fff;
          border-image-source: linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0.2) 100%);
          border: 16px;
          padding: 20px;
          background-color: #FFFFFF99;
        }
        .link {
          & >li + li {
            margin-top: 20px;
          }
          a {
            margin-bottom: 8px;
            text-decoration: underline;
            @include text-body(2,'m',$gray-700);
          }
          .source {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 12px;
            border: 2px solid #fff;
            background: $gray-40;
            border: 2px solid;
            border-image-source: linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0.2) 100%);
            box-shadow: 0px 8px 16px 0px #23225814;
            backdrop-filter: blur(10px);
            box-shadow: 0px 4px 12px 0px #23225805 inset;
            @include text-body(3,'m',$gray-500);
          }
        }
      }
      .util {
        display: flex;
        margin-top: 8px;
        button {
          width: 32px;
          height: 32px;
          border-radius: 8px;
          @include set-icon-text-blind;
          transition: all 500ms;
          &:hover {
            background-color: $gray-60;
          }
        }
        .icon-copy {
          background: url(svg-icon(search-copy,$gray-500)) no-repeat 50% 50%;
          // &.is-on {
          //   background: url(svg-icon(search-copy, $primary)) no-repeat 50% 50%;
          // }
        }
        .icon-good,
        .icon-bad {
          background: url(svg-icon(search-good,$gray-500)) no-repeat 50% 50%;
          &.is-on {
            background: url(svg-icon(search-good,$primary)) no-repeat 50% 50%;
          }
          &.is-off {
            display: none;
          }
        }
        .icon-bad {
          transform: rotate(180deg);
        }
      }
      .request-list {
        // max-width: 436px;
        // display: inline-flex;
        .request-item {
          & + .request-item {
            margin-top: 12px;
          }
        }
        .request-title {
          display: inline-block;
          border: 2px solid $white;
          border-radius: 16px;
          background-color: #FFFFFF99;
          box-shadow: 0px 4px 12px 0px #23225805 inset, 0px 16px 32px 0px #23225814;
          padding: 14px;
          border-image: linear-gradient(180deg, #FFFFFF, #FFFFFF33);
          cursor: pointer;
          p {
            position: relative;
            // padding-right: 28px;
            @include text-body(2,'sb');
            // &::after {
            //   content: '';
            //   // display: inline-block;
            //   position: absolute;
            //   right: 0;
            //   top: 0;
            //   width: 20px;
            //   height: 20px;
            //   background: url(svg-icon(chevron-right, $gray-300)) no-repeat 100% 50%;
            //   background-size: 16px 16px;
            //   transform: rotate(90deg);
            // }
          }
          &.ui-state-active p::after {
            transform: rotate(270deg);
          }
        }
        .request-content {
          p {
            padding-top: 16px;
            white-space: pre-line;
            @include text-body(2,'r',$gray-500);
          }
        }
      }
      .feedback-modal {
        display: none;
        margin-top: 32px;
        .modal {
          position: relative;
          border-radius: 16px;
        }
        .modal-title {
          margin-bottom: 20px;
          @include text-body(1,'sb');
        }
        .modal-content {
          padding-bottom: 0;
          .chip-box {
            // display: flex;
            // gap: 8px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            .chip {
              // flex: 1 1 30%
            }
            .chip i {
              flex: 1;
              text-align: center;
            }
          }
        }
        .modal-close {
          position: absolute;
          top: 20px;
          right: 20px;
          @include set-icon(24px, 24px, $icon-close);
        }
        &.is-show {
          display: block;
          height: auto;
        }
      }
      .aisearch-slider-wrap {
        position: relative;
        padding-bottom: 24px;
        .aisearch-slider {
          overflow: visible;
        }
        .swiper-wrapper {
          overflow: visible;
        }
        .swiper-slide {
          opacity: 0;
          transition: opacity 500ms ease;
          max-width: 212px;
        }
        .swiper-slide-visible {
          opacity: 1;
        }
        .aisearch-slide {
          display: block;
          border-radius: 16px;
          border: 2px solid;
          border-image: linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0.2) 100%);
          // padding: 10px;
          background-color: #FFFFFF99;
          backdrop-filter: blur(10px);
          box-shadow: 0px 4px 12px 0px #23225805 inset, 0px 16px 32px 0px #23225814;
          &:has(.image) {
            // height: 246px;
          }
          .image {
            border-radius: 12px;
            overflow: hidden;
            // margin-bottom: 12px;
            img {
              // width: 188px;
              // height: 188px;
              object-fit: cover;
            }
          }
          .txt {
            margin: 12px 0 16px;
            padding: 0 16px;
            height: 3em;
            overflow: hidden;
            text-overflow: ellipsis;
            display:-webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp:2;
            @include text-body(2,'sb'); 
          }
          .location {
            margin: 12px 0 16px;
            padding: 0 16px;
            @include text-body(3,'m',$gray-500);
          }
        }
        // .swiper-slide {
        //   opacity: 0;
        // }
        // .swiper-slide-prev,
        // .swiper-slide-active,
        // .swiper-slide-next,
        // .swiper-slide-next + .swiper-slide {
        //   opacity: 1;
        // }
        .swiper-pagination {
          bottom: 0;
          display: flex;
          justify-content: center;
          z-index: 1;
          .swiper-pagination-bullet {
            background-color: $gray-100;
            border-radius: 8px;
            opacity: 1;
            transition: all 300ms;
          }
          .swiper-pagination-bullet-active {
            background-color: $gray-900;
            width: 16px;
          }
        }
        .control-box {
          position: relative;
          z-index: 1;
          .prev,
          .next {
            position: absolute;
            top: calc(50% - 30px);
            width: 40px;
            height: 40px;
            border: 1px solid $gray-60;
            border-radius: 40px;
            background: url(svg-icon(chevron-right)) no-repeat 50% 50%;
            @include set-icon-text-blind;
            background-size: 20px 20px;
            &:disabled {
              background-image: url(svg-icon(chevron-right, $gray-100));
            }
          }
          .prev {
            left: -52px;
            transform: rotate(180deg);
          }
          .next {
            right: -52px;
          }
        }
      }
    }
  }
}
.page-aisearch-bottom {
  position: relative;
  // z-index: 10; // 피드백모달 뜰때 가려짐
  z-index: 1;
  width: 100%;
  max-width: 764px;
  margin: 0 auto;
  
  .exquestion-type {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 150px;
    padding: 0 20px;
    touch-action: pan-y; /* 수직 스크롤 방해 방지 */
    .titles {
      max-width: 660px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      flex: 0;
      order: 1;
      transition: transform 0.3s ease;
    }
    a {
      display: block;
      width: 212px;
      box-sizing: border-box;
      padding: 14px;
      border-radius: 16px;
      background: rgba(255, 255, 255, 0.6);
      box-shadow: 0px 4px 12px 0px #23225805 inset, 0px 16px 32px 0px #23225814;

      border: 2px solid #FFFFFF;
      border-image: linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0.2) 100%);
      outline: none;

      background-image:linear-gradient(#fff,#fff);
      background-clip: padding-box, border-box;
      background-origin: border-box;
      &:focus {
        outline: none;
      }
      &.is-active {
          background-image:linear-gradient(#fff,#fff),
          linear-gradient(180deg, #6361FC 0%, rgba(99, 97, 252, 0.6) 100%);
        }
      h2 {
        @include text-body(2,'sb');
      }
      p {
        margin-top: 4px;
        @include text-body(2,'r',$gray-500);
      }
    }
  }

  .search-area {
    overflow: hidden;
    box-sizing: border-box;
    height: 110px;
    padding: 3px;
    border-radius: 20px;
    position: absolute;
    left: 52px;
    right: 52px;
    bottom: 20px;
    backdrop-filter: blur(10px);
    background: rgba(255, 255, 255, 0.6);
    box-shadow: 0px 16px 32px rgba(0,0,0, 0.08), inset 0px 4px 12px rgba(0,0,0, 0.02);
    // box-shadow: 0px 16px 32px red, inset 0px 4px 12px red;

    isolation: isolate;
    &.is-loading::before {
      content: '';
      position: absolute;
      width: 700px;
      height: 700px;
      top: -295px;
      left: -20px;
      border-radius: inherit;
      background-image: $backgroundConicGradient;
      // mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      // mask-composite: exclude;
      z-index: 2;
      animation: spin 1000ms linear infinite;
    }

    textarea {
      position: relative;
      z-index: 2;
      border-radius: 17px;
      flex: 1;
      width: 100%;
      height: 100%;
      box-sizing: border-box;
      border: 3px solid transparent;
      padding: 12px 54px 12px 12px;
      @include text-body(0,'m');
      resize: none;
      outline: none;
      background-image:linear-gradient(#fff,#fff);
      background-clip: border-box;
      background-origin: border-box;
      &:focus {
        // padding: 14px 56px 14px 14px;
        // border: none;
      }
    }
    button {
      position: absolute;
      right: 10px;
      bottom: 10px;
      width: 36px;
      height: 36px;
      border-radius: 12px;
      background: url(svg-icon(search-arrow)) no-repeat 50% 50% $primary;
      background-size: 20px 20px;
      @include set-icon-text-blind;
      z-index: 2;
    }
  }
  .pop-aiside-button {
    display: none;
    position: absolute;
    bottom: 140px;
    right: 52px;
    width: 56px;
    height: 56px;
    border-radius: 20px;
    a {
      position: absolute;
      inset: 1px;
      border-radius: 20px;
      overflow: hidden;
      .txt {
        position: absolute;
        inset: 3px;
        border-radius: 16px;
        background: url($icon-aiside) no-repeat 50% 50%, #fff;
        @include set-icon-text-blind;
      }
      &::before {
        content: '';
        position: absolute;
        inset: -3px;
        isolation: isolate;
        background-image: $backgroundConicGradient;
        animation: spin 1000ms linear infinite;
      }
    }
  }
  .flag-beta-txt {
    display: none;
  }
  &.is-beta {
    bottom: 20px;
    .search-area {
      bottom: 28px;
    }
    .pop-aiside-button {
      bottom: 148px;
    }
    .flag-beta-txt {
      display: block;
      text-align: center;
      height: 0;
      p {
        position: relative;
        bottom: 20px;
        // font-size: 12px;
        @include text-body(3,'r',$gray-400);
      }
    }
  }
}
.pop-aiside .modal {
  .aiside-content-tit {
    margin-bottom: 16px;
    @include text-body(0,'sb');
  }
  .aiside-keyword-content {
    padding: 15px;
    border: 1px solid transparent;
    border-radius: 16px;
    background-color: #fff;
    margin-bottom: 24px;
    .title {
      padding-left: 22px;
      margin-bottom: 8px;
      @include text-body(1,'sb',$gray-700);
      background:url($icon-ai) no-repeat center left;
    }
    .keyword-list {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      .keyword,
      .keyword-more {
        flex: 0;
        border-radius: 8px;
        border: 1px solid $gray-60;
        padding: 4px 8px;
        white-space: nowrap;
        @include text-body(2,'m',$gray-700);
      }
      .keyword-more {
        background-color: $navy-100;
        border-color: transparent;
        color: $point-blue;
      }
    }
    .button-box-small {
      margin-top: 16px;
      .button-s {
        flex: 1;
      }
    }
  }
  .aiside-recomend-content {
    .recomend-list {
      .item-recomend {
        & +.item-recomend {
          margin-top: 12px;
        }
        a {
          display: block;
          padding: 15px;
          border: 1px solid transparent;
          border-radius: 16px;
          background-color: #fff;
        }
      }
      dl {
        dt {
          margin-top: 8px;
          @include text-body(1,'sb');
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        dd {
          margin-top: 8px;
          @include text-body(2,'r',$gray-500);
          height: 3em;
          overflow: hidden;
          text-overflow: ellipsis;
          display: -webkit-box;
          -webkit-box-orient: vertical;
          -webkit-line-clamp:2;
        }
      }
    }
  }
}
@media screen and (min-width: 1384px) {
  .pop-aiside,
  .pop-aiside.modal-hidden {
    position: static;
    display: block;
  }
  .pop-aiside .modal {
    display: flex;
    position: fixed;
    top: 86px;
    right: 20px;
    width: 300px;
    bottom: 20px;
    max-height: none;
    z-index: 9;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.6) 0%, rgba(255, 255, 255, 0.6) 100%);
    box-shadow: 0px 16px 32px 0px #23225814,  0px 4px 12px 0px #23225805 inset;
    backdrop-filter: blur(10px);
    &::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 16px;
      background: linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0.2) 100%);
      mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      mask-composite: exclude;
      padding: 2px;
      z-index: 0;
    }
    .modal-content {
      position: relative;
      z-index: 1;
    }
    .modal-header,
    .modal-close {display: none;}
  }
}

// 1384 미만부터 (컨텐츠 764 미만) 데이터만들기 모달 팝업으로
@media screen and (max-width: 1383px) {
  .container.has-aiside {
    padding: 0 0 0 280px;
  }
  .aside.is-fold + .container.has-aiside {
    padding: 0 0 0 $_containAsideFoldWidth;
  }
  .pop-aiside .modal .aiside-keyword-content,
  .pop-aiside .modal .aiside-recomend-content .recomend-list .item-recomend {
    border-color: $gray-60;
  }
  .page-aisearch-bottom .pop-aiside-button {
    display: block;
  }
}

@media screen and (max-width: 1023px) { 
  .aside {
    .navigation {
    }
  }
  .container {
    padding: 0 24px;
    // &:has(.page-main),
    // &:has(.page-aisearch) {
    //   padding: 60px 0 0;
    // }
  }
  .is-main {
    .container {
      padding: 0;
    }
  }
  .page-main,
  .page-aisearch {
    padding-top: 60px;
  }
  .page-main {
    .aisearch-header {
      .logo-video {
        width: 60px;
        height: 60px;
        margin: 0 auto 8px;
      }
      .flow-wrap {
        margin: -20px 0 -40px;
      }
    }
  }
  .container.has-aiside {
      padding: 0 0 0 0;
  }
  .page-aisearch-bottom .pop-aiside-button {
    display: block;
  }

}
@media screen and (max-width: 767px) {
  .aside {
    .navigation {
    }
  }
  .container {
    padding: 0 20px;
  }

  .page-main {
    .aisearch-header {
      h1 {
        font-size: 24px;
      }
      .exquestion-list {
        .exquestion-item {
          width: 240px;
          padding: 12px 16px;
        }
      }
    }
  }
  .page-aisearch {
    margin: 0;
    // padding: 56px 24px 140px;
    padding: 56px 20px 140px;
    .aisearch-body {
      padding: 0;
    }
  }
  .page-aisearch-bottom {
    max-width: 704px;
    .search-area { 
      left: 20px;
      right: 20px;
    }
    .pop-aiside-button {
      right: 20px;
    }
  }

}

@media screen and (max-width: 703px) {
  .page-aisearch-bottom {
    .search-area {
    }
    .pop-aiside-button {
    }
  }
}