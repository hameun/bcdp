{%- extends "_templates/_layout.njk" -%}

{% block content %}

<script>
// ë‹¬ë ¥ js 
function fn_datapicker() {
  const isMobile = window.innerWidth <= 768;

  document.querySelectorAll('.year-picker-input, .month-picker-input, .day-picker-input')
    .forEach(function (input) {
      const type = input.dataset.type;

      // PC ë²„ì „
      if (!isMobile) {
        let options = {
          inline: true,
          view: type === 'year' ? 'years' : type === 'month' ? 'months' : 'days',
          minView: type === 'year' ? 'years' : type === 'month' ? 'months' : 'days',
          dateFormat: type === 'year' ? 'yyyy' :
                      type === 'month' ? 'yyyy.MM' : 'yyyy.MM',
          firstDay: 0,
          navTitles: { days: '<i>yyyy</i>.MMMM' },
          onSelect({ date }) {
            if (!date) {
              input.value = '';
              return;
            }
            if (type === 'year') {
              input.value = date.getFullYear();
            } else if (type === 'month') {
              const m = date.getMonth() + 1;
              input.value = `${date.getFullYear()}.${m < 10 ? '0' + m : m}`;
            } else {
              const m = date.getMonth() + 1;
              const d = date.getDate();
              input.value = `${date.getFullYear()}.${m < 10 ? '0' + m : m}.${d < 10 ? '0' + d : d}`;
            }
          }
        };

        new AirDatepicker(input, options);

        const pickerEl = input.parentNode.querySelector('.air-datepicker.-inline-');
        if (pickerEl) {
          input.closest('.input-picker').insertAdjacentElement('afterend', pickerEl);
        }
      } 
      
      // ëª¨ë°”ì¼
      else {
        const modal = document.querySelector('#picker-mo');
        const pickerWrap = modal.querySelector('.mo-picker-wrap');
        const closeBtn = modal.querySelector('.modal-close');

        input.addEventListener('click', function () {
          modal.style.display = 'block';
          pickerWrap.innerHTML = ''; // ì´ì „ ë‹¬ë ¥ ì œê±°

          // ğŸ“Œ ëª¨ë‹¬ ì•ˆì— ë‹¬ë ¥ì„ ë¶™ì¼ dummy element ìƒì„±
          const dummyDiv = document.createElement('div');
          pickerWrap.appendChild(dummyDiv);

          // ëª¨ë‹¬ ì•ˆì—ì„œ ë‹¬ë ¥ ìƒì„±
          new AirDatepicker(dummyDiv, {
            inline: true,
            view: type === 'year' ? 'years' : type === 'month' ? 'months' : 'days',
            minView: type === 'year' ? 'years' : type === 'month' ? 'months' : 'days',
            dateFormat: type === 'year' ? 'yyyy' :
                        type === 'month' ? 'yyyy.MM' : 'yyyy.MM',
            firstDay: 0,
            navTitles: { days: '<i>yyyy</i>.MMMM' },
            selectedDates: input.value ? [input.value] : [], // ê¸°ì¡´ ê°’ ìˆìœ¼ë©´ ì„ íƒ ë°˜ì˜
            onSelect({ date }) {
              if (!date) {
                input.value = '';
              } else if (type === 'year') {
                input.value = date.getFullYear();
              } else if (type === 'month') {
                const m = date.getMonth() + 1;
                input.value = `${date.getFullYear()}.${m < 10 ? '0' + m : m}`;
              } else {
                const m = date.getMonth() + 1;
                const d = date.getDate();
                input.value = `${date.getFullYear()}.${m < 10 ? '0' + m : m}.${d < 10 ? '0' + d : d}`;
              }
              modal.style.display = 'none';
            }
          });
        });

        closeBtn.addEventListener('click', function () {
          modal.style.display = 'none';
        });
      }
    });
}

document.addEventListener('DOMContentLoaded', fn_datapicker);
</script>

<div class="content page-polio">
    <div class="content-head-btn">
        <div class="content-head">
            <h1 class="headline1">ë°ì´í„°í´ë¦¬ì˜¤</h1>
            <p class="head-guidetext">ì›í•˜ëŠ” ì¡°ê±´ì„ ì„ íƒí•˜ë©´ ë§ì¶¤í˜• ë°ì´í„°ë¥¼ ìƒì„±í•´ë“œë ¤ìš”.</p>
        </div>
        <!-- 250818 ì„ì‹œì €ì¥ ë²„íŠ¼ ìˆ˜ì •-->
        <div class="button-box-small">
            <button type="button" class="btn-ts">ì„ì‹œì €ì¥</button>
            <button type="button" class="count">7</button>
        </div>
        <!-- //250818 ì„ì‹œì €ì¥ ë²„íŠ¼ ìˆ˜ì •-->
    </div>            

    <div class="datapolio-search">
        <div class="input-box">
            <input type="text" class="ipt" placeholder="ì¡°ê±´ì„ ì…ë ¥í•˜ë©´ AIê°€ ìë™ ì„ íƒí•´ë“œë ¤ìš”.">
            <span class="util-box">
                <button type="button" class="ipt-search"><i>ê²€ìƒ‰</i></button>
            </span>
        </div>
        <!-- ê²°ê³¼ëŒ€ê¸°ì¤‘ :is-ai-->
        <div class="input-box is-ai">
            <input type="text" class="ipt" placeholder="ì¡°ê±´ì„ ì…ë ¥í•˜ë©´ AIê°€ ìë™ ì„ íƒí•´ë“œë ¤ìš”." value="ì¡°ê±´ì„ ì…ë ¥í•˜ë©´ AIê°€ ìë™ ì„ íƒí•´ë“œë ¤ìš”">
            <span class="util-box">
                <button type="button" class="ipt-search"><i>ê²€ìƒ‰</i></button>
            </span>
        </div>
        <!-- ê²°ê³¼ëŒ€ê¸°ì¤‘ -->
    </div>

    <div class="datapolio-contents">
        <div class="content-step">
            <ul>
                <li class="on">
                    <i class="bar"></i>
                    <div class="step-title">
                        <em class="step-bedge">í•„ìˆ˜</em>
                        <em class="step-txt">ë°ì´í„°ìœ í˜•</em>
                    </div>
                </li>
                <li class="on">
                    <i class="bar"></i>
                    <div class="step-title">
                        <em class="step-bedge">í•„ìˆ˜</em>
                        <em class="step-txt">ê¸°ê°„</em>
                    </div>
                </li>
                <li>
                    <i class="bar"></i>
                    <div class="step-title">
                        <em class="step-bedge">í•„ìˆ˜</em>
                        <em class="step-txt">ì§€ì—­</em>
                    </div>
                </li>
                <li>
                    <i class="bar"></i>
                    <div class="step-title">
                        <em class="step-bedge">í•„ìˆ˜</em>
                        <em class="step-txt">ì—…ì¢…</em>
                    </div>
                </li>
                <li>
                    <i class="bar"></i>
                    <div class="step-title">
                        <em class="step-txt">ì„¸ë¶€í•­ëª©</em>
                    </div>
                </li>
            </ul>
        </div>

        <div class="step-content">
            <p class="title3">ì–´ë–¤ ê¸°ì¤€ìœ¼ë¡œ ê¸°ê°„ ë°ì´í„°ë¥¼ ë§Œë“¤ê¹Œìš”?</p>
            <div class="chip-box chip-box-large">
                <label class="chip"><input type="radio" name="radio1" checked=""><i>ì—°ë„ë³„</i></label>
                <label class="chip"><input type="radio" name="radio1"><i>ì›”ë³„</i></label>
                <label class="chip"><input type="radio" name="radio1"><i>ì¼ë³„</i></label>
            </div>
            <!-- ì—°ë„ë³„ -->
            <div class="picker-wrap">
                <div class="picker-s">
                    <label class="picker-tit" for="year-picker-s">ì‹œì‘ ë…„ë„</label>
                    <div class="input-picker">
                        <div class="input-box is-error"><!--error : is-error-->
                            <input type="text" class="ipt year-picker-input" id="year-picker-s" data-type="year" placeholder="YYYY" >
                        </div>
                        <p class="input-help is-error">ë‚ ì§œë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.</p>
                    </div>
                </div>
                <div class="picker-e">
                    <label class="picker-tit" for="year-picker-e">ì¢…ë£Œ ë…„ë„</label>
                    <div class="input-picker">
                        <div class="input-box is-error"><!--error : is-error-->
                            <input type="text" class="ipt year-picker-input" id="year-picker-e" data-type="year" placeholder="YYYY" >
                        </div>
                        <p class="input-help is-error">ë‚ ì§œë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.</p>
                    </div>
                </div>
            </div>
            <!-- //ì—°ë„ë³„ -->
            <!-- ì›”ë³„ -->
            <div class="picker-wrap">
                <div class="picker-s">
                    <label class="picker-tit" for="month-picker-s">ì‹œì‘ ì›”</label>
                    <div class="input-picker">
                        <div class="input-box">
                            <input type="text" class="ipt month-picker-input" id="month-picker-s" data-type="month" placeholder="YYYY.MM" >
                        </div>
                    </div>
                </div>
                <div class="picker-e">
                    <label class="picker-tit" for="month-picker-e">ì¢…ë£Œ ì›”</label>
                    <div class="input-picker">
                        <div class="input-box">
                            <input type="text" class="ipt month-picker-input" id="month-picker-e" data-type="month" placeholder="YYYY.MM" >
                        </div>
                    </div>
                </div>
            </div>
            <!-- //ì›”ë³„ -->
            <!-- ì¼ë³„ -->
            <div class="picker-wrap">
                <div class="picker-s">
                    <label class="picker-tit" for="day-picker-s">ì‹œì‘ ë‚ ì§œ</label>
                    <div class="input-picker">
                        <div class="input-box">
                            <input type="text" class="ipt day-picker-input" id="day-picker-s" data-type="day" placeholder="YYYY.MM.DD" >
                        </div>
                    </div>
                </div>
                <div class="picker-e">
                    <label class="picker-tit" for="day-picker-e">ì¢…ë£Œ ë‚ ì§œ</label>
                    <div class="input-picker">
                        <div class="input-box">
                            <input type="text" class="ipt day-picker-input" id="day-picker-e" data-type="day" placeholder="YYYY.MM.DD" >
                        </div>
                    </div>
                </div>
            </div>
            <!-- //ì¼ë³„ -->
        </div>
    </div>

    <div class="datapolio-bottom">
    <div class="btn-filter">
        <button type="button" class="btn-icon-filter is-filter">
            <i>ì„ íƒì¡°ê±´ ìˆìŒ</i>
        </button>
    </div>
    <div class="filter_box">
        <div class="filter-content">
            <span class="filter-tit">ì„ íƒí•œ ì¡°ê±´</span>
            
            <!-- ì„ íƒí•œ ì¡°ê±´ ìˆì„ ê²½ìš° -->
            <button type="button" class="filter-reset">ì´ˆê¸°í™”</button>
            <div class="filter-option item-scroll-wrap">
                <div class="option-box">
                    <span class="option-tit">ë°ì´í„°ìœ í˜• <em class="count">1</em></span>
                    <div class="option-filter-box">
                        <div class="option-txt is-ai">
                            <span>ë‚´êµ­ì¸ ì¹´ë“œì†Œë¹„ ë°ì´í„°</span>
                            <button type="button" class="del">ì‚­ì œ</button>
                        </div>
                    </div>
                </div>
                <div class="option-box">
                    <span class="option-tit">ê¸°ê°„ <em class="count">1</em></span>
                    <div class="option-filter-box">
                        <div class="option-txt is-ai">
                            <span>2024</span>
                            <button type="button" class="del">ì‚­ì œ</button>
                        </div>
                        <div class="option-txt is-ai">
                            <span>2024</span>
                            <button type="button" class="del">ì‚­ì œ</button>
                        </div>
                        <div class="option-txt">
                            <span>ë‚´êµ­ì¸ ì¹´ë“œì†Œë¹„ ë°ì´í„°</span>
                            <button type="button" class="del">ì‚­ì œ</button>
                        </div>
                    </div>
                </div>
                <div class="option-box">
                    <span class="option-tit">ì§€ì—­ <em class="count">2</em></span>
                    <div class="option-filter-box">
                        <div class="option-txt is-ai">
                            <span>ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ë…¼í˜„ë™</span>
                            <button type="button" class="del">ì‚­ì œ</button>
                        </div>
                        <div class="option-txt">
                            <span>ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì²­ë‹´ë™</span>
                            <button type="button" class="del">ì‚­ì œ</button>
                        </div>
                    </div>
                </div>
                <div class="option-box">
                    <span class="option-tit">ì—…ì¢… <em class="count">2</em></span>
                    <div class="option-filter-box">
                        <div class="option-txt is-ai">
                            <span>ê°€ì •í†µì‹  > ê°€ì „ > ê±´ê°•ê°€ì „</span>
                            <button type="button" class="del">ì‚­ì œ</button>
                        </div>
                        <div class="option-txt is-ai">
                            <span>ê°€ì •í†µì‹  > ê°€ì „ > ê±´ê°•ê°€ì „</span>
                            <button type="button" class="del">ì‚­ì œ</button>
                        </div>
                    </div>
                </div>
                <div class="option-box">
                    <span class="option-tit">ìš”ì¼ <em class="count">2</em></span>
                    <div class="option-filter-box">
                        <div class="option-txt is-ai">
                            <span>ì£¼ë§</span>
                            <button type="button" class="del">ì‚­ì œ</button>
                        </div>
                    </div>
                </div>
                <div class="option-box">
                    <span class="option-tit">ì‹œê°„ëŒ€ <em class="count">2</em></span>
                    <div class="option-filter-box">
                        <div class="option-txt is-ai">
                            <span>ì €ë…</span>
                            <button type="but                                     on" class="del">ì‚­ì œ</button>
                        </div>
                    </div>
                </div>
                <div class="option-box">
                    <span class="option-tit">ì—°ë ¹ <em class="count">2</em></span>
                    <div class="option-filter-box">
                        <div class="option-txt is-ai">
                            <span>20ëŒ€</span>
                            <button type="button" class="del">ì‚­ì œ</button>
                        </div>
                        <div class="option-txt is-ai">
                            <span>30ëŒ€</span>
                            <button type="button" class="del">ì‚­ì œ</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- //ì„ íƒí•œ ì¡°ê±´ ìˆì„ ê²½ìš° -->
            <!-- ì„ íƒí•œ ì¡°ê±´ ì—†ì„ ê²½ìš° -->
            <button type="button" class="filter-reset disabled">ì´ˆê¸°í™”</button>
            <div class="result-none">
                <p class="message">ì„ íƒí•œ ì¡°ê±´ì´ ì—†ì–´ìš”</p>
            </div>
            <!-- //ì„ íƒí•œ ì¡°ê±´ ì—†ì„ ê²½ìš° -->
            <button class="filter-close" type="button">ë‹«ê¸°</button>
        </div>
    </div>
    <div class="bottom-content">
        <div class="polio-quote">
            <div class="quote-box">
                <div class="quote-tit">
                    <span class="tit">ê²¬ì </span>
                    <span class="sub">(VAT í¬í•¨)</span>
                    <button type="button" class="detail-info"><i class="icon-info-s">ì„¸ë¶€ì •ë³´</i></button>
                </div>
                <div class="quote-result">
                    <span class="price">
                        <i>0</i>ì›
                    </span>
                    <span class="my-price">(ë‚˜ì˜ ì˜ˆìƒ êµ¬ë§¤ ê°€ê²© <i>139,570,000</i>ì›)</span>
                </div>
            </div>
            <div class="textbutton-box-xsmall">
                <a href="#" class="textbutton-p underline disabled">ìƒ˜í”Œë°ì´í„° í™•ì¸</a>
            </div>
        </div> 
        <div class="button-box-large">
            <button class="button-q" type="button">ì´ì „</button>
            <button class="button-p" type="button">ë‹¤ìŒ</button>
        </div>
    </div>
    </div>
    
</div> 
{%- endblock %}   
{% block modal %}
<div class="pop-modal picker-model" id="picker-mo" style="display:none">
    <div class="modal modal-large" tabindex="0">
        <div class="modal-header">ë‚ ì§œ ì„ íƒ</div>
        <div class="mo-picker-wrap"></div>
        <button class="modal-close" type="button">ë‹«ê¸°</button>
    </div>
</div>
{%- endblock %}                

